<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xq.dao.ParentCenterDao">


    <select id="getParentByUserId" resultType="com.xq.model.Parent">
        SELECT * FROM parent WHERE userId=#{userId}
    </select>

    <select id="getUserNameById" resultType="java.lang.String">
        SELECT username FROM sysuser WHERE id=#{userId}
    </select>

    <update id="updateRealName">
        UPDATE parent SET realName=#{realName} WHERE userId=#{userId}
    </update>
    <update id="updateGender">
        UPDATE sysuser SET gender=#{gender} WHERE id=#{userId}
    </update>
    <update id="updatePhone">
        UPDATE sysuser SET phone=#{phone} WHERE id=#{userId}
    </update>
    <update id="updateEmail">
        UPDATE sysuser SET email=#{email} WHERE id=#{userId}
    </update>
    <update id="updatePid">
        UPDATE sysuser SET pid=#{pid} WHERE id=#{userId}
    </update>
    <update id="updateGroundAndAddr">
        UPDATE parent SET ground=#{ground}, address=#{address} WHERE userId=#{userId}
    </update>
    <update id="updateUserStatus">
        UPDATE sysuser SET user_status=#{status} WHERE id=#{userId}
    </update>

    <insert id="addParent" parameterType="java.lang.Integer">
        INSERT INTO parent(userId)
        VALUE (#{userId})
    </insert>



</mapper>
